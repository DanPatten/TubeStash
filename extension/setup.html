<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TubeStash â€” Setup</title>
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background: #1a1a1a; color: #e0e0e0; padding: 40px;
  max-width: 560px; margin: 0 auto;
}
h1 { font-size: 22px; margin-bottom: 8px; }
.subtitle { color: #888; font-size: 14px; margin-bottom: 28px; }
.step {
  background: #222; border: 1px solid #333; border-radius: 6px;
  padding: 16px 20px; margin-bottom: 16px;
}
.step-num {
  display: inline-block; width: 24px; height: 24px; line-height: 24px;
  text-align: center; border-radius: 50%; background: #2962ff;
  color: #fff; font-size: 13px; font-weight: 600; margin-right: 10px;
}
.step-title { font-size: 15px; font-weight: 500; margin-bottom: 8px; }
.step-desc { font-size: 13px; color: #aaa; margin-bottom: 12px; line-height: 1.5; }
button {
  padding: 10px 24px; border: none; border-radius: 4px;
  font-size: 14px; font-weight: 500; cursor: pointer;
}
.btn-download { background: #2962ff; color: #fff; }
.btn-download:hover { background: #1e4fcc; }
.btn-retry { background: #333; color: #e0e0e0; }
.btn-retry:hover { background: #444; }
.btn-retry:disabled { opacity: 0.5; cursor: default; }
.status {
  margin-top: 20px; padding: 12px 16px;
  border-radius: 4px; font-size: 13px;
}
.status.disconnected { background: #2a1a1a; border: 1px solid #f44336; color: #f44336; }
.status.connected { background: #1a2a1a; border: 1px solid #4caf50; color: #4caf50; }
.status.checking { background: #222; border: 1px solid #666; color: #aaa; }
.note { font-size: 12px; color: #666; margin-top: 16px; line-height: 1.5; }
code { background: #333; padding: 2px 6px; border-radius: 3px; font-size: 12px; }
</style>
</head>
<body>

<h1>Host Setup</h1>
<p class="subtitle">TubeStash needs a helper program to download videos. Follow the steps below.</p>

<div class="step">
  <div class="step-title"><span class="step-num">1</span>Download the installer</div>
  <div class="step-desc">
    This downloads an installer that sets up the download host on your system.
    It installs dependencies, configures auto-start at login, and starts the host.
  </div>
  <button class="btn-download" id="btn-download">Download Installer</button>
</div>

<div class="step">
  <div class="step-title"><span class="step-num">2</span>Run the installer</div>
  <div class="step-desc" id="run-instructions">
    Extract the zip and run the installer inside it.
  </div>
</div>

<div class="step">
  <div class="step-title"><span class="step-num">3</span>Verify connection</div>
  <div class="step-desc">After running the installer, click below to check if everything is working.</div>
  <button class="btn-retry" id="btn-retry">Retry Connection</button>
</div>

<div class="status disconnected" id="status">Host not connected</div>

<div id="restart-help" style="display:none">
  <p class="note" style="margin-top:20px">
    It looks like you've set up the host before. To restart it, open <code>%LOCALAPPDATA%\tubestash</code> and double-click <code>host.bat</code>
  </p>
</div>

<script src="setup.js"></script>
</body>
</html>
